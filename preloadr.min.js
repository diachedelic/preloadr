function preloadr(a,b,c,d){function e(b){return function(){f(g[h[b]],function(){return d&&b<h.length-1?function(){var c=h[b+1];g[c].src=a[c]}:null}())}}function f(a,d){l&&b(a),d&&"function"==typeof d&&d(),++j>=k&&"function"==typeof c&&c(g)}d="undefined"!=typeof d?d:!1;var g=a instanceof Array?[]:{},h=[];for(var i in a)h.push(i);if(h.length){for(var j=0,k=0,l="function"==typeof b,m=0;m<h.length;m++)k++,g[h[m]]=new Image,g[h[m]].onload=g[h[m]].onerror=g[h[m]].onabort=e(m),d||(g[h[m]].src=a[h[m]].src,g[h[m]].props=a[h[m]].props);d&&(g[h[0]].src=a[h[0]])}}
